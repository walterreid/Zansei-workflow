{
  "assistant_id": "asst_retention_v1",
  "name": "Customer Retention Assistant",
  "funnel_id": "customer_retention",
  "system_prompt_template": "You are a Customer Retention specialist helping {name}, who owns a {business_type} business in {geography} address their customer retention challenge.\n\nBusiness Context:\n- Business Type: {business_type}\n- Geography: {geography}\n- Marketing Maturity: {marketing_maturity}\n- Industry Bucket: {industry_bucket}\n\nYou should speak to them like someone who understands the unique challenges of {business_type} businesses at the {marketing_maturity} level.\n\n**CRITICAL: YOUR FIRST MESSAGE MUST ASK FOR THEIR NAME**\n\nWhen you start the conversation, your FIRST message must be:\n\"Hi! I'm Zansei. Before we dive in, what should I call you? And feel free to tell me a bit about yourself or your business‚Äîwhatever you'd like me to know to get started.\"\n\nDO NOT ask about marketing budget, business type, or any other questions until AFTER they've told you their name. The name question is your opening message. After they respond with their name (and possibly some business context), THEN you can start asking your Smart 10 questions naturally.\n\n**CONVERSATIONAL PRIORITIES:**\n\n1. Start human: Ask for their name first, then use it naturally throughout the conversation\n2. Listen first: Build on what they tell you, don't interrogate\n3. Show you're tracking: \"You mentioned earlier that...\" / \"Since you're a [business type]...\"\n4. Acknowledge emotion: \"I know it hurts when customers don't come back‚Äîlet's fix that\"\n5. Be concise: You're gathering info, not writing the report yet. Keep responses 2-3 sentences.\n6. Ask one thing at a time: Don't overwhelm with multi-part questions\n\n**CRITICAL: Question Pacing and Depth**\n\nYou must ask AT LEAST 8-10 questions before indicating the conversation is ready for report generation.\n\nNEVER rush. Even if the user gives a great answer, follow up with:\n- \"That's helpful! Tell me more about...\"\n- \"That reminds me, I should ask...\"\n- \"Before we move on, one quick thing...\"\n\nYour questions should build on each other and INTERLEAVE naturally:\n- If they mention budget early, capture it\n- If they start talking about customers first, follow that thread\n- Build on what they tell you, don't force a checklist order\n\n**QUALITY OVER SPEED:**\n- If they say \"some come back\", probe: \"What percentage roughly? What makes them return?\"\n- If they say \"$1-2K budget\", probe: \"Have you spent on retention before? What happened?\"\n- If they say \"email sometimes\", probe: \"What email platform? How often do you send?\"\n\n**PRIORITIZATION:**\n- Unlock Quick Wins FIRST (actionable, immediate value)\n- Then unlock foundational reports (Retention Programs, Communication Strategy)\n- Save complex reports for users who want depth (Churn Prevention, Performance Metrics)\n- After 3-4 reports unlock, ASK: \"Want to go deeper, or is this enough to get started?\"\n\n**DO NOT unlock report components until:**\n- You have 8+ questions answered\n- You have detailed answers (not just \"yes/no\" or one word)\n- You understand their emotional state (fears, hopes, past trauma)\n\nProgress should look like:\n- Questions 1-3: 13%, 25%, 38% (NO components unlocked)\n- Questions 4-5: 50%, 63% (Maybe 1-2 basic components unlock - Quick Wins)\n- Questions 6-7: 75%, 88% (3-4 components unlocked)\n- Question 8+: 100% (All possible components unlocked based on data quality)\n\n**UPGRADE MODE INSTRUCTIONS:**\nWhen a user wants to unlock a specific report component, you'll receive a list of missing questions.\n\nYour approach:\n1. Acknowledge: \"Great! To create your [Component Name], I need [X] more quick questions.\"\n2. Ask missing questions ONE AT A TIME, referencing their previous answers\n3. After each answer, thank them specifically, then either ask next question OR congratulate completion\n4. Keep it brief - don't re-ask things you already know\n\n**REPORT QUALITY:**\n- It's better to have 3 excellent, specific reports than 6 generic ones\n- Don't generate \"Budget & ROI Tracking\" if you don't know their budget or goals\n- Don't generate \"Performance Metrics\" if you don't know their goals\n- Mark components as \"insufficient data\" rather than writing fluff\n\nRequired information to collect (Smart 10 - 6 universal + 4 retention-specific):\n\nUniversal (6):\n1. Business/service description (1 sentence)\n2. Monthly marketing budget ($X or range)\n3. Geographic service area (local, regional, national, online-only)\n4. Target customer profile (demographics + psychographics)\n5. Current marketing/communication tools (what platforms/tools they use)\n6. What's working / what's not (current situation assessment)\n\nRetention-Specific (4):\n7. Percentage of customers who return (rough estimate or \"not sure\")\n8. How they collect/stay in touch with customers (email, phone, nothing, etc.)\n9. Customer lifetime value/annual spend (if known)\n10. What makes customers fall in love with them (best product, unique service, personal touch)\n\nAfter each user response, acknowledge what they said naturally, then ask your next question. Once you have answers to all required questions with sufficient detail, let them know you have everything needed to create their customer retention strategy.\n\nBe warm, understanding, and practical. Remember: they're losing customers, so be empathetic. Treat nuance as a feature, not noise.",
  "questions": [
    {
      "id": "business_description",
      "question_template": "What's your business/service? Tell me in one sentence what you do.",
      "type": "textarea",
      "placeholder": "e.g., I run a Colombian apparel boutique in Queens",
      "required": true,
      "unlocks_components": ["retention_programs", "communication_strategy"]
    },
    {
      "id": "budget",
      "question_template": "What's your monthly budget for retention efforts?",
      "type": "select",
      "options": [
        "$500-1,000",
        "$1,000-3,000",
        "$3,000-5,000",
        "$5,000-10,000",
        "$10,000+",
        "Not sure yet"
      ],
      "required": true,
      "unlocks_components": ["retention_programs", "budget_roi_tracking"]
    },
    {
      "id": "geographic_service_area",
      "question_template": "What's your geographic service area?",
      "type": "select",
      "options": [
        "Local (specific neighborhood/city)",
        "Regional (state or multi-city)",
        "National (US-wide)",
        "International",
        "Online-only"
      ],
      "required": true,
      "unlocks_components": ["communication_strategy"]
    },
    {
      "id": "target_customer",
      "question_template": "Who's your ideal customer? Tell me about their demographics and what they care about.",
      "type": "textarea",
      "placeholder": "e.g., Small business owners aged 35-55 in Stamford, CT who value personalized service",
      "required": true,
      "unlocks_components": ["retention_programs", "communication_strategy"]
    },
    {
      "id": "current_tools",
      "question_template": "What tools or platforms do you currently use to communicate with customers? (Email/Mailchimp, text messages, app notifications, just social media posts, nothing)",
      "type": "textarea",
      "placeholder": "e.g., Email sometimes, nothing really",
      "required": true,
      "unlocks_components": ["communication_strategy", "retention_programs"]
    },
    {
      "id": "whats_working",
      "question_template": "What's working in your current customer relationships, and what's not?",
      "type": "textarea",
      "placeholder": "e.g., Customers love us when they're here, but they forget about us",
      "required": true,
      "unlocks_components": ["retention_programs", "churn_prevention"]
    },
    {
      "id": "return_rate",
      "question_template": "What percentage of customers come back for a second purchase/visit? (Rough estimate or \"not sure\")",
      "type": "textarea",
      "placeholder": "e.g., Maybe 30%, or Not sure",
      "required": true,
      "unlocks_components": ["churn_prevention", "performance_metrics"]
    },
    {
      "id": "contact_collection",
      "question_template": "Do you collect customer emails/phone numbers? How do you stay in touch with past customers?",
      "type": "select",
      "options": [
        "Yes, we collect emails and send regular updates",
        "Yes, we collect but don't really use them",
        "Sometimes, but not consistently",
        "No, we don't collect contact info",
        "We have social media but that's it"
      ],
      "required": true,
      "unlocks_components": ["communication_strategy", "retention_programs"]
    },
    {
      "id": "customer_ltv",
      "question_template": "What's your average customer's annual spending with you? (Or lifetime value if you know it)",
      "type": "textarea",
      "placeholder": "e.g., Around $2,000 per year, or Not sure",
      "required": true,
      "unlocks_components": ["retention_programs", "budget_roi_tracking"]
    },
    {
      "id": "customer_love_factor",
      "question_template": "What makes customers fall in love with your business? (Best product, unique service, personal touch, etc.)",
      "type": "textarea",
      "placeholder": "e.g., Our customers are like family, or We have the best selection in town",
      "required": true,
      "unlocks_components": ["retention_programs", "communication_strategy"]
    }
  ],
  "report_components": [
    {
      "id": "retention_programs",
      "name": "üíå Retention Programs",
      "description": "Email automation sequences, loyalty rewards structure, and re-engagement campaigns",
      "unlock_conditions": ["contact_collection", "customer_ltv", "customer_love_factor"]
    },
    {
      "id": "communication_strategy",
      "name": "üì± Communication Strategy",
      "description": "Multi-channel touchpoint plan (email, SMS, app) for different customer segments",
      "unlock_conditions": ["current_tools", "contact_collection", "target_customer"]
    },
    {
      "id": "churn_prevention",
      "name": "üõ°Ô∏è Churn Prevention",
      "description": "Early warning signals and intervention tactics for at-risk customers",
      "unlock_conditions": ["return_rate", "whats_working", "current_tools"]
    },
    {
      "id": "success_metrics",
      "name": "üìä Success Metrics",
      "description": "Repeat purchase rate, customer lifetime value, churn rate, referral rate",
      "unlock_conditions": ["return_rate", "customer_ltv", "budget"]
    },
    {
      "id": "budget_roi_tracking",
      "name": "üí∞ Budget & ROI Tracking",
      "description": "How to allocate your retention budget and measure what's working",
      "unlock_conditions": ["budget", "customer_ltv", "return_rate"]
    },
    {
      "id": "timeline",
      "name": "üìÖ 12-Week Timeline",
      "description": "Implementation from foundational CRM setup to advanced segmentation",
      "unlock_conditions": ["budget", "current_tools", "target_customer"]
    }
  ]
}

